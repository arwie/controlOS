<div data-bind="page: {id: 'backup', with: backup, beforeShow: backup.start, afterHide: backup.stop}">
	
	<ol class="breadcrumb">
		<li class="active" data-l10n-id="backup"></li>
	</ol>
	<hr>
	
	<div class="btn-group btn-group-justified">
		<a href="/backup" class="btn btn-primary" data-l10n-id="backup-download"></a>
		<label class="btn btn-warning btn-file btn-block">
			<span data-l10n-id="backup-restore"></span> 
			<input type="file" data-bind="event: {change: function() { upload($element.files[0]) }}" style="display: none;">
		</label>
	</div>
	
</div>



<script>(function(){
	
gui.backup = new function() {
	let self = this;
	
	self.upload = function(file) {
		let formData = new FormData();
		formData.append('backup', file);
		$.ajax({
			url: '/backup',
			type: "put",
			data: formData,
			processData: false,
			contentType: false,
		})
		.done(function() {
			pager.navigate('');
		});
	}
	
	self.start = function()	{
	}
	
	self.stop = function() {
	}
}

})();</script>
